const music =[{
artist: "Tung Lam",
title:"Eliminate negativity",
song:"Eliminate negativity",
album:"TungArt7",
duration:"6:09",
img:"TungArt7.jpg",

}, {
    artist: "Shakib Hasan",
    title:"Forest",
    song:"Forest",
    album:"Onetent",
    duration:"6:45",
    img:"onetent.webp",
    },
    {
        artist: "Robert B",
        title:"Mother Gaia",
        song:"Mother Gaia",
        album:"The4ElementsOnline",
        duration:"5:39",
        img:"motherGaia.jpg",
        },
{
    artist: "Tung Lam",
    title:"Detoxify cells",
    song:"Detoxify cells",
    album:"TungArt7",
    duration:"6:57",
    img:"TungArt7.jpg",
    },
   
        {
            artist: "BluBonRelaXon",
            title:"Om Namah",
            song:"Om Namah",
            album:"BluBonRelaXon",
            duration:"5:05",
            img:"OmNamah.jpg",
            },
         
            {
                artist: "Dana Music",
                title:"relaxing-meditation",
                song:"relaxing-meditation",
                album:"Dana Music",
                duration:"6:07",
                img:"DanaMusic.jpg",
                
                }, {
                    artist: "Norrienglish",
                    title:"meditation",
                    song:"meditation",
                    album:"Norrienglish",
                    duration:"4:33",
                    img:"onetent.webp",
                    },
                    {
                        artist: "Dana Music",
                        title:"meditation-relax",
                        song:"meditation-relax",
                        album:"Dana Music",
                        duration:"6:08",
                        img:"DanaMusic.jpg",
                        },
                {
                    artist: "Zakhar Valaha",
                    title:"perfect-beauty",
                    song:"perfect-beauty",
                    album:"Zakhar Valaha",
                    duration:"7:20",
                    img:"ZakharValaha.jpg",
                    },
                   
                        {
                            artist: "Darren Lucas",
                            title:"transcendental-meditation",
                            song:"transcendental-meditation",
                            album:"Darren Lucas",
                            duration:"6:18",
                            img:"Dmitrii.webp",
                            },
                         
                
                {
                            artist: "Ashot Danielyan",
                            title:"beautiful-meditation",
                            song:"beautiful-meditation",
                            album:"Ashot Danielyan",
                            duration:"5:21",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                {
                            artist: "John K.",
                            title:"mindfulness-relaxation",
                            song:"mindfulness-relaxation",
                            album:"John K.",
                            duration:"4:00",
                            img:"john.jpeg",
                            },
                
                {
                            artist: "Dmitrii Kolesnikov",
                            title:"meditation15",
                            song:"meditation15",
                            album:"Dmitrii Kolesnikov",
                            duration:"4:37",
                            img:"russian.webp",
                            },
                
                {
                            artist: "BluBonRelaXon",
                            title:"music-for-relax",
                            song:"music-for-relax",
                            album:"BluBonRelaXon",
                            duration:"6:25",
                            img:"OmNamah.jpg",
                            },
                
                
                {
                            artist: "Zakhar Valaha",
                            title:"ambiant-relax",
                            song:"ambiant-relax",
                            album:"Zakhar Valaha",
                            duration:"7:08",
                            img:"ZakharValaha.jpg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"athmospheric",
                            song:"athmospheric",
                            album:"Michael-X_Studio",
                            duration:"6:04",
                            img:"Michael-X_Studio.png",
                            },
                
                {
                            artist: "Artur Aravidi",
                            title:"meditation154",
                            song:"meditation154",
                            album:"Artur Aravidi",
                            duration:"4:56",
                            img:"OmNamah.jpg",
                            },
                
                
                {
                            artist: "Maksym Dudchyk",
                            title:"healing-meditation",
                            song:"healing-meditation",
                            album:"Maksym Dudchyk",
                            duration:"6:04",
                            img:"OmNamah.jpg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"powerful",
                            song:"powerful",
                            album:"Michael-X_Studio",
                            duration:"7:28",
                            img:"Michael-X_Studio.png",
                            },
                
                
                {
                            artist: "Darren Lucas",
                            title:"kundalini",
                            song:"kundalini",
                            album:"Darren Lucas",
                            duration:"4:15",
                            img:"Dmitrii.webp",
                            },
                
                {
                            artist: "Ashot Danielyan",
                            title:"into-meditation",
                            song:"into-meditation",
                            album:"Ashot Danielyan",
                            duration:"6:48",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                {
                            artist: "Michael-X_Studio",
                            title:"healing-yoga",
                            song:"healing-yoga",
                            album:"Michael-X_Studio",
                            duration:"4:49",
                            img:"Michael-X_Studio.png",
                            },
                
                
                {
                            artist: "Ashot Danielyan",
                            title:"meditation-tibetan",
                            song:"meditation-tibetan",
                            album:"Ashot Danielyan",
                            duration:"6:58",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                
                {
                            artist: "Kevin Horizon",
                            title:"reiki-meditation",
                            song:"reiki-meditation",
                            album:"Kevin Horizon",
                            duration:"6:55",
                            img:"Kevin.jpg",
                            },
                
                
                {
                            artist: "Jonathan Underwood",
                            title:"meditation-atmosphere",
                            song:"meditation-atmospheren",
                            album:"Jonathan Underwood",
                            duration:"5:04",
                            img:"Jonathan.jpg",
                            },
                
                
                {
                            artist: "Ashot Danielyan",
                            title:"space-meditation",
                            song:"space-meditation",
                            album:"Ashot Danielyan",
                            duration:"6:37",
                            img:"Ashot Danielyan.jpeg",
                            },
                
                
                {
                            artist: "Maksym Dudchyk",
                            title:"spring-breeze",
                            song:"spring-breeze",
                            album:"Maksym Dudchyk",
                            duration:"6:43",
                            img:"mustnag.jpg",
                            },
                
                
                {
                            artist: "Michael-X_Studio",
                            title:"417hz-healing",
                            song:"417hz-healing",
                            album:"Michael-X_Studio",
                            duration:"6:24",
                            img:"Michael-X_Studio.png",
                            },
                
                {
                            artist: "Dmitry",
                            title:"meditative-chill",
                            song:"meditative-chill",
                            album:"Dmitry",
                            duration:"5:55",
                            img:"russian.webp",
                            },
                
                
                {
                            artist: "Ashlee Storey",
                            title:"meditation-bowls",
                            song:"meditation-bowls",
                            album:"Ashlee Storey",
                            duration:"7:47",
                            img:"Ashlee.jpg",
                            },
                










]


const hamburger = document.querySelector(".hamburger");
const menu = document.querySelector(".menu");
const hamburgerMenu = document.querySelector(".fa-bars");
const cross = document.querySelector(".fa-xmark");
const musicContainer = document.querySelector(".musicContainer");
const mainaudio = document.querySelector("audio");
const playPauseBtn = document.querySelector(".playPauseBtn");
const musicSlider = document.querySelector(".musicRangeSlider");
const musicCurrentTime = document.querySelector(".musicCurrentTime");
const musicTotalTime = document.querySelector(".musicTotalTime");
const videoContainerBody = document.querySelector(".video-container-body");
const closeVideoButton = document.querySelector(".close-video-player");
const imgContainer = document.querySelector(".video-container-body .imgContainer");



// ************************ Hamburger Menu Functionality
hamburger.addEventListener("click", () => {
  setTimeout(() => {
    hamburgerMenu.style.display =
      hamburgerMenu.style.display === "none" ? "block" : "none";
    cross.style.display =
      cross.style.display === "block" ? "none" : "block";

    hamburger.classList.toggle("active");
    menu.classList.toggle("active");
  }, 300);
});

// ************************ Generate Music Boxes
music.forEach((m) => {
  const musicPlayerBoxDiv = document.createElement("div");
  musicPlayerBoxDiv.className = "musicPlayerBox";
  musicPlayerBoxDiv.innerHTML = `
    <p class="text-1xl text-center py-1 font-bold artist">${m.artist}</p>
    <div class="imgContainer">
      <img src="./images/${m.img}" alt="${m.img}">
    </div>
    <p class="text-center">${m.title}</p>
    <p class="text-center pb-2">${m.album}</p>
    <button class="musicPlayBtn" data-song="${m.song}">
      Pl<i class="fa-solid fa-circle-play fa-beat-fade px-1" style="color: #87ec00;"></i>y
    </button>
  `;
  musicContainer.appendChild(musicPlayerBoxDiv);

});

// ************************ Music Player Functionality
const playButtons = document.querySelectorAll(".musicPlayBtn");

playButtons.forEach((button) => {
  button.addEventListener("click", (e) => {
    const musicPlayerBox = e.target.closest(".musicPlayerBox");
    const artist = musicPlayerBox.querySelector(".artist").textContent;
    const title = musicPlayerBox.querySelector(".text-center").textContent;
    const song = button.dataset.song;
    const album = musicPlayerBox.querySelector(".text-center.pb-2").textContent;
    const img = musicPlayerBox.querySelector(".imgContainer img").alt;

    document.querySelector(".musicArtist").textContent = artist;
    document.querySelector(".musicSongName").textContent = title;
    document.querySelector(".musicSongAlbum").textContent = album;
    document.querySelector(".video-container-body .musicPlayerBox img").src =
      "./images/" + img;
    mainaudio.src = `./music/${song}.mp3`;

    videoContainerBody.style.display = "flex";
    mainaudio.play();
    playPauseBtn.classList.replace("fa-circle-play", "fa-circle-pause");
    imgContainer.classList.add("musicAnimation");
  });
});

// ************************ Play/Pause Button
playPauseBtn.addEventListener("click", () => {
  if (mainaudio.paused) {
    mainaudio.play();
    playPauseBtn.classList.replace("fa-circle-play", "fa-circle-pause");
    imgContainer.classList.add("musicAnimation");
  } else {
    mainaudio.pause();
    playPauseBtn.classList.replace("fa-circle-pause", "fa-circle-play");
    imgContainer.classList.remove("musicAnimation");
  }
});

// ************************ Close Video Player
closeVideoButton.addEventListener("click", () => {
  mainaudio.pause();
  videoContainerBody.style.display = "none";
  playPauseBtn.classList.replace("fa-circle-pause", "fa-circle-play");
  imgContainer.classList.remove("musicAnimation");
});

// ************************ Music Slider Functionality
mainaudio.addEventListener("timeupdate", () => {
    const progress = (mainaudio.currentTime / mainaudio.duration) * 100;
    musicSlider.value = progress;
  
    const current = Math.floor(mainaudio.currentTime);
    const total = Math.floor(mainaudio.duration);
  
    const currentMinutes = Math.floor(current / 60);
    const currentSeconds = current % 60;
    const totalMinutes = Math.floor(total / 60);
    const totalSeconds = total % 60;
  
    musicCurrentTime.textContent = `${currentMinutes}:${currentSeconds
      .toString()
      .padStart(2, "0")}`;
    musicTotalTime.textContent = `${totalMinutes}:${totalSeconds
      .toString()
      .padStart(2, "0")}`;
  });
  
  // Allow seeking using the slider
  musicSlider.addEventListener("input", () => {
    const seekTime = (mainaudio.duration * musicSlider.value) / 100;
    mainaudio.currentTime = seekTime;
  });
  const muteButton = document.querySelector(".muteButton");
muteButton.addEventListener("click", () => {
  if (mainaudio.muted) {
    mainaudio.muted = false;
    muteButton.innerHTML = '<i class="fa-solid fa-volume-high"></i>';
  } else {
    mainaudio.muted = true;
    muteButton.innerHTML = '<i class="fa-solid fa-volume-xmark"></i>';
  }
});
const loopButton = document.querySelector(".loopButton");
loopButton.addEventListener("click", () => {
  mainaudio.loop = !mainaudio.loop;
  if (mainaudio.loop) {
    loopButton.classList.add("active");
  } else {
    loopButton.classList.remove("active");
  }
});

  


